{% extends "base.html" %}

{% block content %}
<p><a href="{{ url_for('index.index') }}" type="button" class="btn btn-light">Back</a></p>

<br><br>

<h2>Inventory:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Price</th>
      <th scope="col">Quantity</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
    {% for product in sold_products%}
      <tr>
        <th scope="row">{{product.id}}</th>
        <td>{{product.name}}</td>
        <td>{{product.price}}</td>
        <td>{{product.available_quantity}}</td>
        <td><a href="{{ url_for('products.editQuantity', pid=product.id) }}">Edit</a></td>
        <td><a href="{{ url_for('products.deleteProduct', pid=product.id) }}">Delete</a></td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<p><a href="{{ url_for('products.addProduct') }}">Add Product</a></p>
<br>
<h2>Order History:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Buyer Name</th>
      <th scope="col">Buyer Address</th>
      <th scope="col">Date Ordered</th>
      <th scope="col">Product ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Quantity</th>
      <th scope="col">Status</th>
      <th scope="col">Edit</th>
    </tr>
  </thead>
  <tbody>
    {% for purchase in purchase_history%}
      <tr>
        <!-- <th scope="row">{{purchase.bfname+' '+purchase.blname}}</th> -->
        <td><a href="{{ url_for('users.privateprofile', uid=purchase.uid) }}" type="button" class="btn btn-light">{{purchase.bfname+' '+purchase.blname}}</a></td>
        <td>{{purchase.baddress}}</td>
        <td>{{purchase.time_purchased}}</td>
        <td>{{purchase.pid}}</td>
        <td>{{purchase.pname}}</td>
        <td>{{purchase.quantity}}</td>
        {% if purchase.fulfilled == 'f'%}
        <td>Fulfilled</td>
        {% else %}
        <td>Not Fulfilled</td>
        {%endif%}
        <td><a href="{{ url_for('inventory.editStatus', pid=purchase.id) }}">Edit</a></td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
